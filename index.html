<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>PG ‚Äì Concursos P√∫blicos</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="bg"></div>

  <main class="container">
    <header class="header card">
      <div class="avatar" aria-hidden="true">
        <svg viewBox="0 0 64 64" width="56" height="56" role="img" aria-label="PG">
          <defs><linearGradient id="g" x1="0" x2="1" y1="1" y2="0"><stop offset="0"/><stop offset="1"/></linearGradient></defs>
          <rect x="4" y="4" width="56" height="56" rx="14" fill="url(#g)" />
          <text x="32" y="40" text-anchor="middle" font-family="Inter, system-ui" font-size="24" font-weight="800" fill="#0b0f1a">PG</text>
        </svg>
      </div>

      <div class="title">
        <h1>PG ‚Äì Concursos P√∫blicos</h1>
        <p class="tagline">Escolha um conte√∫do no menu abaixo</p>
      </div>

      <div class="menu">
        <button class="menu-btn" aria-expanded="false" aria-controls="menu-pop">Menu <span class="chev">‚ñæ</span></button>
        <nav id="menu-pop" class="menu-pop is-hidden" role="menu">
          <button class="menu-item" data-open="leg-tjsp">Legisla√ß√£o Interna TJ-SP 2025</button>
          <button class="menu-item" data-open="manual">Manual do Aprovado</button>
        </nav>
      </div>
    </header>

    <section id="welcome" class="welcome card">
      <h2><b>Bem-vindo(a)</b>, <span>voc√™ est√° mais pr√≥ximo da sua aprova√ß√£o.</span></h2>
      <p>Abra o menu para escolher por onde come√ßar.</p>
    </section>

    <section class="links is-hidden" id="links">
      <article id="leg-tjsp" class="linkcard card is-hidden">
        <div class="toolbar">
          <button class="nav-btn" data-nav="back">‚Üê Voltar ao menu</button>
          <div class="spacer"></div>
          <button class="nav-btn" data-nav="next">Avan√ßar ‚ñ∂</button>
        </div>

        <button class="linkcard-head" data-accordion>
          <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M4 5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5zM13 3v4h4"/></svg>
          </div>
          <div class="txt">
            <h2>Legisla√ß√£o Interna TJ-SP 2025</h2>
            <p>Gabarite a Legisla√ß√£o do TJ-SP.</p>
          </div>
          <span class="chev">‚ñæ</span>
        </button>

        <div class="linkcard-body is-hidden"></div>
      </article>

      <article id="manual" class="linkcard card is-hidden">
        <div class="toolbar">
          <button class="nav-btn" data-nav="back">‚Üê Voltar ao menu</button>
          <div class="spacer"></div>
          <button class="nav-btn" data-nav="prev">‚óÄ Voltar</button>
        </div>

        <button class="linkcard-head" data-accordion>
          <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M4 6a2 2 0 0 1 2-2h10l2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6z"/></svg>
          </div>
          <div class="txt">
            <h2>Manual do Aprovado</h2>
            <p>O passo a passo para voc√™ estudar sozinho e ser aprovado.</p>
          </div>
          <span class="chev">‚ñæ</span>
        </button>

        <div class="linkcard-body is-hidden"></div>
      </article>
    </section>

    <footer class="footer">
      <a class="social" aria-label="Instagram PG Concursos" href="https://instagram.com/Pg.concursos" target="_blank" rel="noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.2c3.2 0 3.6 0 4.9.1 1.2.1 1.9.2 2.3.4.6.2 1 .4 1.5.9.5.5.7.9.9 1.5.2.4.3 1.1.4 2.3.1 1.3.1 1.7.1 4.9s0 3.6-.1 4.9c-.1 1.2-.2 1.9-.4 2.3-.2.6-.4 1-.9 1.5-.5.5-.9.7-1.5.9-.4.2-1.1.3-2.3.4-1.3.1-1.7.1-4.9.1s-3.6 0-4.9-.1c-1.2-.1-1.9-.2-2.3-.4-.6-.2-1-.4-1.5-.9-.5-.5-.7-.9-.9-1.5-.2-.4-.3-1.1-.4-2.3C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.9c.1-1.2.2-1.9.4-2.3.2-.6.4-1 .9-1.5.5-.5.9-.7 1.5-.9.4-.2 1.1-.3 2.3-.4C8.4 2.2 8.8 2.2 12 2.2zm0 1.8c-3.1 0-3.4 0-4.6.1-1 .1-1.5.2-1.8.3-.5.2-.8.4-1.2.8-.4.4-.6.7-.8 1.2-.1.3-.3.8-.3 1.8-.1 1.2-.1 1.5-.1 4.6s0 3.4.1 4.6c.1 1 .2 1.5.3 1.8.2.5.4.8.8 1.2.4.4.7.6 1.2.8.3.1.8.3 1.8.3 1.2.1 1.5.1 4.6.1s3.4 0 4.6-.1zm0 2.9a6.1 6.1 0 1 1 0 12.2 6.1 6.1 0 0 1 0-12.2zm0 1.8a4.3 4.3 0 1 0 0 8.6 4.3 4.3 0 0 0 0-8.6zm5-2.5a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8z"/></svg>
      </a>
    </footer>
  </main>

  <!-- Modal de vota√ß√£o -->
  <div id="vote-modal" class="modal is-hidden" aria-modal="true" role="dialog">
    <div class="modal-card">
      <h3>O que achou da amostra?</h3>
      <div class="vote-choices">
        <button class="btn grad" data-vote="like">Gostei üëç</button>
        <button class="btn ghost" data-vote="dislike">N√£o gostei üëé</button>
      </div>
      <form id="vote-form" class="is-hidden">
        <textarea id="vote-text" rows="3"></textarea>
        <div class="modal-actions">
          <button type="button" class="btn ghost" id="vote-cancel">Cancelar</button>
          <button type="submit" class="btn grad">Enviar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- URL do seu App Script -->
  <script>
    window.WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxDgQWhZ7qpV3H_w0tj6N8a6srY6HjwR2M9dXw3qT6gXwkmkbQA4HozuQ-e35iAgmytqQ/exec";
  </script>

  <!-- Patch do dropdown (mantendo seu HTML/CSS) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btn  = document.querySelector('.menu-btn');
      const pop  = document.getElementById('menu-pop');
      if (!btn || !pop) return;

      const open  = () => { pop.classList.remove('is-hidden'); btn.setAttribute('aria-expanded','true'); };
      const close = () => { pop.classList.add('is-hidden');  btn.setAttribute('aria-expanded','false'); };

      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        pop.classList.contains('is-hidden') ? open() : close();
      });

      document.addEventListener('click', (e) => {
        if (!pop.contains(e.target) && e.target !== btn) close();
      });

      // Clicar numa op√ß√£o do menu ‚Üí abre a se√ß√£o e fecha o menu
      pop.querySelectorAll('.menu-item').forEach(it => {
        it.addEventListener('click', () => {
          const sec = it.dataset.open; // "leg-tjsp" | "manual"
          close();

          // Se seu script define openSection, usamos ele
          if (typeof openSection === 'function') {
            openSection(sec);
          } else {
            // Fallback simples: mostra a se√ß√£o no layout atual
            const links = document.getElementById('links');
            const welcome = document.getElementById('welcome');
            if (links) links.classList.remove('is-hidden');
            if (welcome) welcome.classList.add('is-hidden');
            document.querySelectorAll('#links .linkcard').forEach(el => el.classList.add('is-hidden'));
            const target = document.getElementById(sec);
            if (target) target.classList.remove('is-hidden');
            // rolar para os materiais
            const y = (links || target)?.offsetTop || 0;
            if (y) window.scrollTo({ top: y - 20, behavior: 'smooth' });
          }
        });
      });
    });
  </script>

  <!-- Seu JS principal -->
  <script src="script.js"></script>
</body>
</html>
